@model Homiee.Models.ProfileViewModel

@{
    ViewBag.Title = "Profile";

    Layout = null;



}



<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Stick+No+Bills:wght@600&display=swap" rel="stylesheet">
    <title>Plot Listing HTML5 Website Template</title>

    <link href="~/Template/SecodaryNavProfle/css/style.css" rel="stylesheet" />
    <!-- Bootstrap core CSS -->
    <link href="~/Template/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="~/Template/SecodaryNavProfle/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="~/Template/assets/css/fontawesome.css">
    <link rel="stylesheet" href="~/Template/assets/css/templatemo-plot-listing.css">
    <link rel="stylesheet" href="~/Template/assets/css/animated.css">
    <link rel="stylesheet" href="~/Template/assets/css/owl.css">

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>


    <link href="~/Template/SimpleGauge/simpleGauge.css" rel="stylesheet" />

    @*<link href="~/Template/SidePanel/css/style.css" rel="stylesheet" />*@

    <link href="~/Template/SecodaryNavProfle/fonts/icomoon/style.css" rel="stylesheet" />
    <link href="~/Template/Reviews/css/theme-1.css" rel="stylesheet" />
    <style>
        .card-design {
            padding: 20px;
            box-shadow: rgba(136, 165, 191, 0.48) 6px 2px 16px 0px, rgba(255, 255, 255, 0.8) -6px -2px 16px 0px;
        }

        .button-edit {
            width: 70px;
            height: 55px;
            margin-left: 400px;
        }

        .edit-mode-btn {
            margin-top: 20px;
        }

        .text-field {
            background: white;
        }

        .change-pic-btn {
            width: 240px;
            margin-top: 20px;
        }

        .pro-pic {
            width: 200px;
            height: 200px;
            display: inline;
            border-radius: 40px;
        }

        .pro-pic-card {
            padding-bottom: 50px;
            padding-top: 50px;
            box-shadow: rgba(136, 165, 191, 0.48) 6px 2px 16px 0px, rgba(255, 255, 255, 0.8) -6px -2px 16px 0px;
        }

        .pro-pic-upload-form {
            visibility: hidden;
        }



        aside {
            width: 300px;
            left: 0;
            z-index: 1001;
            position: fixed;
            -webkit-transform: translateX(-100%);
            -ms-transform: translateX(-100%);
            transform: translateX(-100%);
            background-color: #fff;
            -webkit-transition: 1s -webkit-transform cubic-bezier(0.23, 1, 0.32, 1);
            transition: 1s -webkit-transform cubic-bezier(0.23, 1, 0.32, 1);
            -o-transition: 1s transform cubic-bezier(0.23, 1, 0.32, 1);
            transition: 1s transform cubic-bezier(0.23, 1, 0.32, 1);
            transition: 1s transform cubic-bezier(0.23, 1, 0.32, 1), 1s -webkit-transform cubic-bezier(0.23, 1, 0.32, 1);
        }

        .show-sidebar aside {
            -webkit-transform: translateX(0%);
            -ms-transform: translateX(0%);
            transform: translateX(0%);
        }

        aside .toggle {
            padding-left: 30px;
            padding-top: 30px;
            position: absolute;
            right: 0;
            -webkit-transform: translateX(100%);
            -ms-transform: translateX(100%);
            transform: translateX(100%);
        }

        .show-sidebar aside .toggle .burger:before, .show-sidebar aside .toggle .burger span, .show-sidebar aside .toggle .burger:after {
            background: black;
        }

        .show-sidebar aside {
            -webkit-box-shadow: 10px 0 30px 0 rgba(0, 0, 0, 0.1);
            box-shadow: 10px 0 30px 0 rgba(0, 0, 0, 0.1);
        }

        aside .side-inner {
            padding: 30px 0;
            height: 100vh;
            overflow-y: scroll;
            -webkit-overflow-scrolling: touch;
        }

            aside .side-inner .profile {
                margin-left: auto;
                margin-right: auto;
                text-align: center;
                margin-bottom: 30px;
                padding-bottom: 30px;
                border-bottom: 1px solid #efefef;
            }

                aside .side-inner .profile img {
                    width: 80px;
                    margin: 0 auto 20px auto;
                    border-radius: 50%;
                }

                aside .side-inner .profile .name {
                    font-size: 18px;
                    margin-bottom: 0;
                }

                aside .side-inner .profile .country {
                    font-size: 14px;
                    color: #cfcfcf;
                }

            aside .side-inner .counter {
                margin-bottom: 30px;
                padding-bottom: 30px;
                border-bottom: 1px solid #efefef;
                text-align: center;
            }

                aside .side-inner .counter div .number {
                    display: block;
                    font-size: 20px;
                    color: #000;
                }

                aside .side-inner .counter div .number-label {
                    color: #cfcfcf;
                }

            aside .side-inner .nav-menu ul, aside .side-inner .nav-menu ul li {
                padding: 0;
                margin: 0px;
                list-style: none;
            }

                aside .side-inner .nav-menu ul li a {
                    display: block;
                    padding-left: 30px;
                    padding-right: 30px;
                    padding-top: 10px;
                    padding-bottom: 10px;
                    color: #8b8b8b;
                    position: relative;
                    -webkit-transition: .3s padding-left ease;
                    -o-transition: .3s padding-left ease;
                    transition: .3s padding-left ease;
                }

                    aside .side-inner .nav-menu ul li a:before {
                        content: "";
                        position: absolute;
                        left: 0;
                        top: 0;
                        bottom: 0;
                        width: 0px;
                        background-color: #ff7315;
                        opacity: 0;
                        visibility: hidden;
                        -webkit-transition: .3s opacity ease, .3s visibility ease, .3s width ease;
                        -o-transition: .3s opacity ease, .3s visibility ease, .3s width ease;
                        transition: .3s opacity ease, .3s visibility ease, .3s width ease;
                    }

                    aside .side-inner .nav-menu ul li a:active, aside .side-inner .nav-menu ul li a:focus, aside .side-inner .nav-menu ul li a:hover {
                        outline: none;
                    }

                    aside .side-inner .nav-menu ul li a:hover {
                        background: #fcfcfc;
                        color: #000;
                    }

                        aside .side-inner .nav-menu ul li a:hover:before {
                            width: 4px;
                            opacity: 1;
                            visibility: visible;
                        }

                aside .side-inner .nav-menu ul li.active a {
                    background: #fcfcfc;
                    color: #000;
                }

                    aside .side-inner .nav-menu ul li.active a:before {
                        opacity: 1;
                        visibility: visible;
                        width: 4px;
                    }


        .section-title {
            text-align: center;
            color: white;
            font-family: 'Stick No Bills', sans-serif;
            font-size: 60px;
        }

        .section-profile {
            background-color: white;
            padding-bottom: 100px;
        }

        .section-rating {
            background: #323138;
        }

        .section-reviews {
            margin: 0;
            padding-top: 20px;
            border: 0;
            background-color: white;
            padding-bottom: 50px;
        }

        .reviews-section-img {
            height: 100px;
            padding: 10px;
            border-radius: 25px;
        }

        .reviews-section-card {
            border-radius: 20px;
            padding: 10px;
            box-shadow: rgba(0, 0, 0, 0.16) 0px 3px 6px, rgba(0, 0, 0, 0.23) 0px 3px 6px;
        }

        .owl-carousel .owl-item img {
            display: block;
            width: 100px;
        }

        .sectin-transaction {
            background: #323138;
            padding-bottom: 50px;
        }

        .card-section-transaction {
            width: 90%;
            height: 15%;
            margin: 0 auto 5px auto;
        }

        .bell {
            width: 70px;
            height: 70px;
            position: absolute;
            right: 50px;
            top: 105px;
            background: white;
            padding: 20px;
            border-radius: 100%;
        }

            .bell:hover {
                cursor: pointer;
            }

        .section-notification {
            margin: 0;
            padding-top: 20px;
            border: 0;
            background-color: white;
            padding: 50px;
        }

        .notification-content {
            display: inline-block;
        }

        .notification-button {
            display: inline-block;
            float: right;
        }

        .notification-card {
            box-shadow: rgba(0, 0, 0, 0.16) 0px 3px 6px, rgba(0, 0, 0, 0.23) 0px 3px 6px;
        }
    </style>


    <script>
        $(function () {
            $('.gauge-wrap').simpleGauge();

        });
    </script>

</head>

<body>




    @Html.Partial("_Preloader")
    @Html.Partial("_navbar")
    <aside class="sidebar">
        <div class="toggle">
            <a href="#" class="burger js-menu-toggle" data-toggle="collapse" data-target="#main-navbar">
                <span class="header-text"></span>
            </a>
        </div>
        <div class="side-inner">
            <div class="nav-menu">
                <ul>
                    <li class="active" onclick="ProfileClicked()"><a href="/Users/Profile"><span class="icon-user mr-3"></span>Profile</a></li>
                    <li onclick="RatingClicked()"><a href="#"><span class="icon-star mr-3"></span>Rating</a></li>
                    <li><a href="#"><span class="icon-newspaper-o mr-3"></span>Reviews</a></li>
                    <li><a href="#"><span class="icon-credit-card mr-3"></span>Transaction</a></li>

                </ul>
            </div>

        </div>

    </aside>


    <div class="main-banner">
        <div class="container-fluid section-profile">
            <h4 class="section-title" style="color: #323138;">Profile</h4>


            <div>
                <img class="bell" src="~/Images/bell.png" alt="bell" width="50px" height="50px" onclick="BellClicked()" />
            </div>

            <div class="row">
                <div class="col-sm-6 ">
                    <div class="card pro-pic-card d-flex align-items-center justify-content-center">

                        @if (Model.User.UserProfilePicture != null)
                        {
                            <img class="pro-pic shadow-lg p-3 mb-5 bg-white" src=@Url.Content(Model.User.UserProfilePicture) , alt="Profile Picture" width="50%" height="50%" />

                        }
                        else
                        {
                            <img class="pro-pic shadow-lg p-3 mb-5 bg-white" src="~/Content/profile.png" , alt="Profile Picture" width="50%" height="50%" />

                        }

                        <button class="change-pic-btn btn btn-primary" id="changeProPicButton" onclick="ChangeProPic()">Change Profile Picture</button>

                        @using (Html.BeginForm("UploadProfileImage", "Users", FormMethod.Post, new { enctype = "multipart/form-data" }))
                        {
                            @Html.AntiForgeryToken()

                            <div class="mb-3">
                                <input name="UserProfilePicture" class="form-control picForm" type="file" id="UserProfilePicture" style="visibility:hidden">
                            </div>

                            <input class="form-control btn btn-primary picForm" type="submit" id="formSaveButton" value="Save" style="visibility:hidden">

                        }
                        <button style="visibility:hidden" class="picForm change-pic-btn btn btn-primary" id="formCancelButton" onclick="picFormCancel()">Cancel</button>

                    </div>

                </div>
                <div class="col-sm-6">
                    <div class="card card-design">

                        @using (Html.BeginForm("Profile", "Users", FormMethod.Post, new { enctype = "multipart/form-data" }))
                        {
                            <div class="form-group">
                                <div class="form-group">
                                    <label for="UserFirstName">First Name</label>
                                    <input type="text" name="UserFirstName" id="UserFirstName" value="@(Model.User.UserFirstName)" class="form-control text-field" readonly="readonly" />
                                </div>

                                <div class="form-group">
                                    <label for="UserLastName">Last Name</label>
                                    <input type="text" name="UserLastName" id="UserLastName" value="@(Model.User.UserLastName)" class="form-control" readonly />
                                </div>

                                <div class="form-group">
                                    <label for="UserEmail">Email</label>
                                    <input type="text" name="UserEmail" id="UserEmail" value="@(Model.User.UserEmail)" class="form-control" readonly />
                                </div>

                                <div class="form-group">
                                    <label for="UserPhone">Phone</label>
                                    <input type="text" name="UserPhone" id="UserPhone" value="@(Model.User.UserPhone)" class="form-control" readonly />
                                </div>

                                <div class="form-group">
                                    <label for="AddressCountry">Country</label>
                                    <input type="text" name="AddressCountry" id="AddressCountry" value="@(Model.User.AddressCountry)" class="form-control" readonly />
                                </div>

                                <div class="form-group">
                                    <label for="AddressDivision">Division</label>
                                    <input type="text" name="AddressDivision" id="AddressDivision" value="@(Model.User.AddressDivision)" class="form-control" readonly />
                                </div>

                                <div class="form-group">
                                    <label for="AddressCity">City</label>
                                    <input type="text" name="AddressCity" id="AddressCity" value="@(Model.User.AddressCity)" class="form-control" readonly />
                                </div>

                                <div class="form-group">
                                    <label for="AddressArea">Area</label>
                                    <input type="text" name="AddressArea" id="AddressArea" value="@(Model.User.AddressArea)" class="form-control" readonly />
                                </div>
                                <div class="form-group">
                                    <label for="AddressExtension">Address Extension</label>
                                    <input type="text" name="AddressExtension" id="AddressExtension" value="@(Model.User.AddressExtension)" class="form-control" readonly />
                                </div>

                                <div class="form-group text-left edit-mode-btn">
                                    <input type="submit" class="btn btn-primary m-2" value="Save" onclick="SubmitButton();" id="submitButton" style="visibility:hidden" />
                                    <label class="btn btn-primary m-2" onclick="CancelButton()" style="visibility:hidden" id="cancelButton">Cancel</label>
                                </div>
                            </div>
                        }
                        <button class="button-edit btn btn-outline-primary" onclick="EditButton()" id="editButton"><img src="~/Content/edit.png" width="20px" height="20px" />Edit</button>
                    </div>

                </div>
            </div>
        </div>


        <section class="section-transaction" id="sectionTransaction">
            <h4 class="section-title">Transactions</h4>
            <div class="card card-section-transaction">
                <div class="card-body">
                    <div class="row">

                        <div class="col-md-2">

                            <h6>TransactionID</h6>
                        </div>
                        <div class="col-md-2">

                            <h6>SenderID</h6>
                        </div>
                        <div class="col-md-2">

                            <h6>ReceiverAccountNumber</h6>
                        </div>
                        <div class="col-md-2">
                            <h6>SenderAccountNumber</h6>
                        </div>
                        <div class="col-md-2">
                            <h6>Date Time</h6>
                        </div>
                        <div class="col-md-2">
                            <h6>TxId</h6>
                        </div>

                    </div>
                </div>
            </div>
            <div style="overflow-y:auto; height:500px;">

                @foreach (var x in Model.transactions)
                {

                    <div class="card card-section-transaction">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-2">
                                    <h6>@x.TransactionID</h6>
                                </div>
                                <div class="col-md-2">

                                    <h6>@x.SenderID</h6>
                                </div>
                                <div class="col-md-2">

                                    <h6>@x.ReceiverAccountNumber</h6>
                                </div>
                                <div class="col-md-2">

                                    <h6>@x.SenderAccountNumber</h6>
                                </div>
                                <div class="col-md-2">
                                    <h6>@x.TransactionTime</h6>
                                </div>
                                <div class="col-md-2">
                                    <h6>@x.TxID</h6>
                                </div>

                            </div>
                        </div>
                    </div>

                }



            </div>
        </section>

        <section class="section-notification" id="sectionNotification">
            <h4 class="section-title" style="color: #323138;">Notification</h4>
            <div style="overflow-y:auto; height:500px;">

                @foreach (var x in Model.GetNotifications)
                {
                    <div class="card notification-card">
                        <div class="card-body">
                            <div class="notification-content">
                                <p>@x.Post.Title</p>
                                <p>@x.NotifyTime</p>
                                <p>@x.NotifyText</p>
                                <p>Check In: <span>@x.Reservation.CheckIn</span></p>
                                <p>Check Out: <span>@x.Reservation.CheckOut</span></p>
                            </div>
                            <div class="notification-button">

                                <div>
                                    @if (x.Reservation.Status != 0)
                                    {
                                        <span class="label label-success" style="float:right">Approved</span>
                                    }
                                    else
                                    {
                                        <span class="label label-danger">No Approved</span>
                                    }
                                </div>

                            </div>
                        </div>
                    </div>
                }
            </div>
        </section>

        <section class="section-rating container-fluid" id="sectionRating">
            <h4 class="section-title">Rating</h4>
            <div class="row">
                <div class="col-md-4 text-center">
                    <div class="gauge-background">

                        <div class="gauge-wrap" data-value="10"></div>
                        <h3 style="color:white">70%</h3>
                        <p style="color:white">Honesty</p>
                    </div>
                </div>
                <div class="col-md-4 text-center">
                    <div class="gauge-background">

                        <div class="gauge-wrap" data-value="10"></div>
                        <h3 style="color:white">70%</h3>
                        <p style="color:white">Honesty</p>
                    </div>
                </div>
                <div class="col-md-4 text-center">
                    <div class="gauge-background">

                        <div class="gauge-wrap" data-value="90"></div>
                        <h3 style="color:white">70%</h3>
                        <p style="color:white">Honesty</p>
                    </div>
                </div>


            </div>
            <div class="row">
                <div class="col-md-6 text-center">
                    <div class="gauge-background">

                        <div class="gauge-wrap" data-value="10"></div>
                        <h3 style="color:white">70%</h3>
                        <p style="color:white">Honesty</p>
                    </div>
                </div>
                <div class="col-md-6 text-center">
                    <div class="gauge-background">

                        <div class="gauge-wrap" data-value="10"></div>
                        <h3 style="color:white">70%</h3>
                        <p style="color:white">Honesty</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="sectionReview">
            <div class="section-reviews recent-listing ">
                <h4 class="section-title" style="color: #323138;">Reviews</h4>
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="owl-carousel owl-listing">
                                @for (int i = 0; i < 6; i++)
                                {
                                    <div class="item">
                                        <div class="row">
                                            @for (int j = 0; j < 3; j++)
                                            {
                                                <div class="col-lg-12">
                                                    <div class="listing-item">
                                                        <div class=" mb-5">
                                                            <div class="reviews-section-card">
                                                                <img class="reviews-section-img mr-3 img-fluid post-thumb d-none d-md-flex" src="~/Template/Reviews/images/blog-post-thumb-2.jpg" alt="image">
                                                                <div class="">
                                                                    <h3 class=" mb-1"><a href="blog-post.html">Name</a></h3>
                                                                    <div class=" mb-1"><span class="date">Published 3 months ago</span></div>
                                                                    <div class="intro">Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies...</div>

                                                                </div><!--//media-body-->
                                                            </div><!--//media-->
                                                        </div><!--//item-->

                                                    </div>
                                                </div>
                                            }
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        @Html.Partial("_Footer")

        <!-- Scripts -->

        <script type="text/javascript">


            var firstNameFiled = document.getElementById("UserFirstName");
            var lastNameFiled = document.getElementById("UserLastName");
            var emailFiled = document.getElementById("UserEmail");
            var phoneFiled = document.getElementById("UserPhone");
            var countryFiled = document.getElementById("AddressCountry");
            var divisionFiled = document.getElementById("AddressDivision");
            var cityFiled = document.getElementById("AddressCity");
            var area = document.getElementById("AddressArea");
            var addressExtension = document.getElementById("AddressExtension");
            var cancelButton = document.getElementById("cancelButton");
            var submitButton = document.getElementById("submitButton");
            var editButton = document.getElementById("editButton");
            var changeProPicButton = document.getElementById("changeProPicButton");
            var picForm = document.getElementsByClassName("picForm");
            var formCancelButton = document.getElementById("formCancelButton");
            var formSaveButton = document.getElementById("formSaveButton");
            var formFile = document.getElementById("UserProfilePicture");
            var notificationSection = document.getElementById("sectionTransaction");
            var transactionSection = document.getElementById("sectionTransaction");
            var 


            function picFormCancel() {
                formSaveButton.style.visibility = "hidden";
                formFile.style.visibility = "hidden";
                formCancelButton.style.visibility = "hidden";
                changeProPicButton.style.visibility = "visible";
                console.log("here changepropic v");
            }

            function ChangeProPic() {

                if (formSaveButton.style.visibility == "hidden") {
                    formSaveButton.style.visibility = "visible";
                    formFile.style.visibility = "visible";
                    formCancelButton.style.visibility = "visible";
                    changeProPicButton.style.visibility = "hidden";
                    console.log("here changepropic h");

                }
                else if (formSaveButton.style.visibility == "visible") {
                    formSaveButton.style.visibility = "hidden";
                    formFile.style.visibility = "hidden";
                    formCancelButton.style.visibility = "hidden";
                    console.log("here changepropic v");
                }


            }

            function EditButton() {

                if (submitButton.style.visibility == "hidden") {
                    submitButton.style.visibility = "visible";
                    cancelButton.style.visibility = "visible";
                    firstNameFiled.readOnly = false;
                    lastNameFiled.readOnly = false;
                    emailFiled.readOnly = false;
                    phoneFiled.readOnly = false;
                    countryFiled.readOnly = false;
                    divisionFiled.readOnly = false;
                    cityFiled.readOnly = false;
                    area.readOnly = false;
                    addressExtension.readOnly = false;


                }
                else {
                    submitButton.style.visibility = "hidden";
                    cancelButton.style.visibility = "hidden";
                    firstNameFiled.readOnly = true;
                    lastNameFiled.readOnly = true;
                    emailFiled.readOnly = true;
                    phoneFiled.readOnly = true;
                    countryFiled.readOnly = true;
                    divisionFiled.readOnly = true;
                    cityFiled.readOnly = true;
                    area.readOnly = true;
                    addressExtension.readOnly = true;
                }

                editButton.style.visibility = "hidden";


            }

            function SubmitButton() {

            }

            function CancelButton() {
                submitButton.style.visibility = "hidden";
                cancelButton.style.visibility = "hidden";
                firstNameFiled.readOnly = true;
                lastNameFiled.readOnly = true;
                emailFiled.readOnly = true;
                phoneFiled.readOnly = true;
                countryFiled.readOnly = true;
                divisionFiled.readOnly = true;
                cityFiled.readOnly = true;
                area.readOnly = true;
                addressExtension.readOnly = true;
                editButton.style.visibility = "visible";

            }

            function ProfileClicked() {



            }
            function RatingClicked() {

            }
            function BellClicked() {
                console.log("bell check");
                notificationSection.scrollIntoView();
            }



        </script>
        <script src="~/Template/vendor/jquery/jquery.min.js"></script>
        <script src="~/Template/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script src="~/Template/assets/js/owl-carousel.js"></script>
        <script src="~/Template/assets/js/animation.js"></script>
        <script src="~/Template/assets/js/imagesloaded.js"></script>
        <script src="~/Template/assets/js/custom.js"></script>
        <script src="~/Template/SecodaryNavProfle/js/main.js"></script>
        <script src="~/Template/SecodaryNavProfle/js/popper.min.js"></script>
        <script src="~/Template/SimpleGauge/simpleGauge.js"></script>
    </div>

</body>